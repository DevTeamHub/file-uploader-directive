function dtFileDirective(){return{scope:{upload:"&"},restrict:"E",replace:!0,template:'<input type="file"></input>',link:function(a,b){b.bind("change",function(b){var c=b.target,d=c.files[0];if(d){var e=new FileReader;e.onload=function(b){a.upload({file:d,url:b.target.result})},e.readAsDataURL(d)}c.value=""})}}}function dtUploaderController(a){this.init=function(){a.urlCopy||(a.urlCopy=a.url)},this.upload=function(b,c){a.$apply(function(){a.file=b,a.editMode=!0,a.url=c})},this.cancel=function(){a.editMode=!1,a.url=a.urlCopy,a.urlCopy=null},this.save=function(){a.upload({data:a.file}),a.editMode=!1,a.urlCopy=null},this.hide=function(){return a.hideMode&&!a.editMode}}function dtUploaderDirective(){function a(a,b){return b.templateUrl?b.templateUrl:"dt-uploader.tmpl.html"}return{scope:{width:"@",height:"@",upload:"&",url:"=?",hideMode:"@"},restrict:"E",replace:!0,controller:["$scope",dtUploaderController],controllerAs:"ctrl",templateUrl:a,link:function(a){a.editMode=!1}}}var fileUploaderModule=angular.module("dev-team-file-uploader",[]);fileUploaderModule.directive("dtFile",dtFileDirective).directive("dtUploader",dtUploaderDirective),fileUploaderModule.run(["$templateCache",function(a){a.put("dt-uploader.tmpl.html",'<div><img ng-src="{{url}}" width="{{width}}" height="{{height}}" ng-hide="ctrl.hide()" /><dt-file upload="ctrl.upload(file, url)" ng-click="ctrl.init()" value="Browse" class="btn btn-default" ng-style="{width: width}"></dt-file><input type="button" class="btn btn-warning" value="OK" ng-click="ctrl.save()" ng-show="editMode" /><input type="button" class="btn btn-warning" value="Cancel" ng-click="ctrl.cancel()" ng-show="editMode" /></div>')}]);
//# sourceMappingURL=file-uploader-directive.min.js.map